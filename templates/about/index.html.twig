{% extends 'base.html.twig' %}
{% block title %}Nous découvrir – DP Formation{% endblock %}

{# Image du hero (change le fichier si besoin) #}
{% set HERO_REMOTE = asset('images/chariot.jpg') %}
{% set HERO_LOCAL  = asset('images/chariot.jpg') %}

{% block meta %}
  <link rel="preload" as="image" href="{{ HERO_REMOTE }}">
{% endblock %}

{% block body %}
{# ========== HERO (parallax 60vh) ========== #}
<section id="heroScroll" class="relative min-h-[60vh]">
  <div id="heroViewport" class="sticky top-0 h-[60vh] overflow-hidden">
    <img id="heroImg"
         src="{{ HERO_REMOTE }}"
         alt="Nous découvrir – DP Formation"
         class="absolute inset-0 h-full w-full object-cover"
         style="object-position:50% 0%; transition:object-position 180ms ease-out; will-change:object-position;"
         onerror="this.onerror=null;this.src='{{ HERO_LOCAL }}';"
         referrerpolicy="no-referrer" loading="eager" fetchpriority="high" />
    {# Overlay bleu 40% #}
    <div class="absolute inset-0 bg-blue-600/40 mix-blend-multiply"></div>
    {# Fondu vers la 1re section claire #}
    <div class="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-[#ECF5FF]"></div>

    <div class="relative z-10 flex h-full items-center">
      <div class="mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="max-w-2xl">
          <h1 class="text-3xl font-bold sm:text-4xl md:text-5xl">
            La Sécurité, notre métier
          </h1>
          <p class="mt-3 text-base text-white/80 sm:text-lg">
            Depuis 2016, nous accompagnons les entreprises et les professionnels
            dans la montée en compétences et la prévention des risques.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

{# ========== SECTION — Qui sommes-nous ? ========== #}
<section class="bg-[#ECF5FF] py-12 text-slate-900">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">

    <div class="grid grid-cols-1 md:grid-cols-12 gap-y-8 gap-x-8 lg:gap-x-12 md:items-center">
      {# Titre à gauche #}
      <div class="md:col-span-3 md:self-center">
        <h2 class="text-2xl font-bold text-slate-900 md:text-left text-center">
          Qui sommes-nous ?
        </h2>
      </div>

      {# Texte au centre #}
      <div class="md:col-span-5 md:self-center">
        <div class="leading-relaxed text-slate-800 font-semibold">
          Éloïse - Présidente <br>
          Pascal - Directeur / Formateur CACES® / AIPR / Sécurité <br>
          Richard - Ref Technique / Formateur CACES® / AIPR / Sécurité<br>
          Jérôme - Formateur CACES® / SST / Sécurité <br>
          Benjamin - Formateur CACES® / Hab-Electriques / AIPR / Sécurité <br>
          Julien - Formateur CACES® / AIPR / Sécurité <br>
          Maxime - Community Manager <br>
        </div>
      </div>

      {# Image à droite #}
      <div class="md:col-span-4 md:justify-self-end md:self-center md:pl-6 lg:pl-10">
        <img
          src="{{ asset('images/max.jpg') }}"
          alt="Notre équipe"
          class="ml-auto w-full max-w-md rounded-2xl bg-white object-cover shadow ring-1 ring-slate-200"
          loading="lazy"
        />
      </div>
    </div>

  </div>
</section>




{# ========== SECTION 2 — Nos valeurs (fond #D7EAFF) ========== #}
<section class="bg-[#D7EAFF] py-12 text-slate-900">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <h2 class="text-center text-xl font-bold">Nos valeurs</h2>

    {# ➜ 4 colonnes côte à côte dès md. Ajuste si tu veux 4 tout le temps: grid-cols-4 #}
    <div class="mt-6 grid grid-cols-1 md:grid-cols-4 gap-6">
      
      {# Carte 1 — Réactivité #}
      <div class="rounded-2xl bg-white p-6 ring-1 ring-slate-200 shadow-sm text-center hover:shadow-md transition">
        <div class="mx-auto h-16 w-16 flex items-center justify-center rounded-xl bg-slate-50">
          <img src="{{ asset('images/reactivite.png') }}" alt="Réactivité"
               class="block h-12 w-12 object-contain">
        </div>
        <div class="mt-3 text-base font-extrabold text-slate-900">Réactivité</div>
      </div>

      {# Carte 2 — Exigence #}
      <div class="rounded-2xl bg-white p-6 ring-1 ring-slate-200 shadow-sm text-center hover:shadow-md transition">
        <div class="mx-auto h-16 w-16 flex items-center justify-center rounded-xl bg-slate-50">
          <img src="{{ asset('images/proximite.png') }}" alt="Proximité"
               class="block h-12 w-12 object-contain">
        </div>
        <div class="mt-3 text-base font-extrabold text-slate-900">Proximité</div>
      </div>

      {# Carte 3 — Pédagogie #}
      <div class="rounded-2xl bg-white p-6 ring-1 ring-slate-200 shadow-sm text-center hover:shadow-md transition">
        <div class="mx-auto h-16 w-16 flex items-center justify-center rounded-xl bg-slate-50">
          <img src="{{ asset('images/conseils.png') }}" alt="Conseils"
               class="block h-12 w-12 object-contain">
        </div>
        <div class="mt-3 text-base font-extrabold text-slate-900">Conseils</div>
      </div>

      {# Carte 4 — Proximité #}
      <div class="rounded-2xl bg-white p-6 ring-1 ring-slate-200 shadow-sm text-center hover:shadow-md transition">
        <div class="mx-auto h-16 w-16 flex items-center justify-center rounded-xl bg-slate-50">
          <img src="{{ asset('images/Professionnel.png') }}" alt="Professionnels"
               class="block h-12 w-12 object-contain">
        </div>
        <div class="mt-3 text-base font-extrabold text-slate-900">Professionnels</div>
      </div>

    </div>
  </div>
</section>

{# ========== SECTION — En images (fond #ECF5FF) ========== #}
<section class="bg-[#ECF5FF] py-12 text-slate-900">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <h2 class="text-base text-xl font-bold">En images</h2>

    {# 4 images côte à côte dès md #}
    <div class="mt-4 grid grid-cols-2 md:grid-cols-4 gap-8">
      <div class="w-full">
        <img
          src="{{ asset('images/locaux.jpeg') }}"
          alt="locaux"
          class="block w-full h-28 md:h-32 lg:h-36 object-cover rounded-xl bg-white shadow-sm hover:shadow-md transition"
          loading="lazy"
        />
      </div>

      <div class="w-full">
        <img
          src="{{ asset('images/salle.jpg') }}"
          alt="Salle de formation"
          class="block w-full h-28 md:h-32 lg:h-36 object-cover rounded-xl bg-white shadow-sm hover:shadow-md transition"
          loading="lazy"
        />
      </div>

      <div class="w-full">
        <img
          src="{{ asset('images/plateau_technique.jpeg') }}"
          alt="Plateau technique"
          class="block w-full h-28 md:h-32 lg:h-36 object-cover rounded-xl bg-white shadow-sm hover:shadow-md transition"
          loading="lazy"
        />
      </div>

      <div class="w-full">
        <img
          src="{{ asset('images/vehicules.jpg') }}"
          alt="Véhicules"
          class="block w-full h-28 md:h-32 lg:h-36 object-cover rounded-xl bg-white shadow-sm hover:shadow-md transition"
          loading="lazy"
        />
      </div>
    </div>
  </div>
</section>

{# ========== SECTION — Nos avantages ========== #}
<section class="bg-[#D7EAFF] py-12 text-slate-900">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">

    <h2 class="text-center text-xl font-bold">Nos avantages</h2>

    {# Logos — 5 sur desktop, plus grands #}
    <div class="mt-8 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-8 place-items-center">
      <img src="{{ asset('images/medde.png') }}" alt="MEDDE"
           class="h-20 md:h-24 w-auto object-contain" loading="lazy" />
      <img src="{{ asset('images/datadock.png') }}" alt="Datadock"
           class="h-20 md:h-24 w-auto object-contain" loading="lazy" />
      <img src="{{ asset('images/caces_certif.png') }}" alt="CACES®"
           class="h-24 md:h-28 w-auto object-contain" loading="lazy" />
      <img src="{{ asset('images/qualiopi.png') }}" alt="Qualiopi"
           class="h-20 md:h-24 w-auto object-contain" loading="lazy" />
      <img src="{{ asset('images/assurance_maladie.png') }}" alt="Assurance Maladie – Risques Pro"
           class="h-20 md:h-24 w-auto object-contain" loading="lazy" />
    </div>

    {# Accessibilité — image plus grande et rapprochée du texte #}
    <div class="mt-10 flex flex-col items-center gap-4 md:flex-row md:justify-center md:gap-6">
      <img src="{{ asset('images/accessibilite.jpg') }}" alt="Accessibilité"
           class="h-20 md:h-28 w-auto object-contain" loading="lazy" />
      <div class="text-center">
        <p class="text-base font-bold">
          Notre site est accessible à toute personne en situation de handicap
        </p>
        <p class="text-sm text-slate-700">
          Prenez contact pour plus d’informations
        </p>
      </div>
    </div>

  </div>
</section>



{% endblock %}

{% block javascripts %}
  {{ parent() }}
  <script>
    // Parallax smooth (60vh) – identique à tes autres pages
    (function () {
      const wrapper = document.getElementById('heroScroll');
      const viewport = document.getElementById('heroViewport');
      const img = document.getElementById('heroImg');
      if (!wrapper || !viewport || !img) return;

      let curr = 0, target = 0, rafId = null;

      function computeTarget() {
        const start = wrapper.getBoundingClientRect().top + window.scrollY;
        const range = Math.max(1, viewport.offsetHeight); // 60vh
        const y = window.scrollY - start;
        const pRaw = Math.min(Math.max(y / range, 0), 1);
        target = Math.min(pRaw, 0.97); // évite toute zone sombre résiduelle
        tick();
      }
      function tick() {
        if (rafId) return;
        rafId = requestAnimationFrame(function animate() {
          rafId = null;
          curr += (target - curr) * 0.12; // 0.08=plus doux, 0.2=plus rapide
          if (Math.abs(target - curr) < 0.001) curr = target;
          else rafId = requestAnimationFrame(animate);
          img.style.objectPosition = `50% ${Math.round(curr * 100)}%`;
        });
      }
      computeTarget();
      window.addEventListener('scroll', computeTarget, { passive: true });
      window.addEventListener('resize', computeTarget);
    })();
  </script>
{% endblock %}
